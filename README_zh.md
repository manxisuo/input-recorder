# 输入域记录器

一款 Chrome/Edge 浏览器扩展，用于保存和恢复网页表单输入值。再也不会丢失你的表单数据！

**[English README](README.md)**

## 功能特性

- **保存表单数据**：记录任意网页上所有输入元素的当前状态（文本框、文本域、下拉框、复选框、单选框）
- **一键恢复**：将保存的表单数据快速恢复到相同或类似的表单中
- **多个快照**：创建和管理多个命名的表单数据快照
- **智能匹配**：智能字段匹配算法处理动态表单和 DOM 变化，即使页面结构改变也能可靠恢复
- **隐私优先**：
  - 所有数据仅存储在您的设备上
  - 从不记录密码字段或敏感输入类型
  - 不会向外部服务器传输数据
- **导入/导出**：将保存的数据备份为 JSON 文件，并可恢复
- **现代界面**：简洁直观的界面，带有视觉反馈

## 安装方法

### 从 Chrome 应用商店安装（即将推出）
扩展即将在 Chrome 应用商店上架。

### 手动安装（开发者模式）

1. **下载或克隆**此仓库
   ```bash
   git clone https://github.com/yourusername/input-recorder.git
   cd input-recorder
   ```

2. **打开 Chrome/Edge 扩展页面**
   - Chrome：访问 `chrome://extensions/`
   - Edge：访问 `edge://extensions/`

3. **启用开发者模式**
   - 在右上角切换"开发者模式"开关

4. **加载扩展**
   - 点击"加载已解压的扩展程序"
   - 选择 `input-recorder` 文件夹

5. **固定扩展**（可选）
   - 点击工具栏中的拼图图标
   - 找到"输入域记录器"并点击固定图标

## 使用方法

### 保存表单数据

1. 在任意网页上填写表单
2. 点击输入域记录器扩展图标
3. 为此快照输入一个名称（例如："登录表单"、"联系信息"）
4. 点击"添加"按钮（或按 Enter 键）
5. 您的表单数据已保存！

### 恢复表单数据

1. 导航到表单页面（相同或类似页面）
2. 点击输入域记录器扩展图标
3. 在列表中找到您保存的快照
4. 点击快照名称旁边的"填充"按钮（插入图标）
5. 所有表单字段将自动填充

### 管理快照

- **重命名**：点击编辑图标重命名快照
- **更新**：点击更新图标将当前表单状态保存到现有快照
- **删除**：点击删除图标移除快照
- **导出**：前往选项 → 导出，将所有快照下载为 JSON 文件
- **导入**：前往选项 → 导入，从 JSON 文件恢复快照

## 技术细节

### 架构

- **Manifest V3**：基于最新的 Chrome 扩展 Manifest V3 规范构建
- **最小权限**：仅请求 `activeTab`、`scripting` 和 `storage` 权限
- **按需注入**：内容脚本仅在需要时注入，不会在每个页面加载时都注入
- **原生 JavaScript**：无外部依赖（已移除 jQuery）
- **智能字段匹配**：
  - 主要方式：ID 和 name 属性
  - 备用方式：标签关联、aria-labels、占位符和 CSS 路径匹配
  - 置信度评分，防止错误的字段匹配

### 浏览器兼容性

- ✅ Chrome 88+（支持 Manifest V3）
- ✅ Edge 88+（基于 Chromium）
- ❌ Firefox（不兼容 - 使用不同的扩展 API）

### 隐私与安全

- **仅本地存储**：所有数据使用 `chrome.storage.local` API 存储
- **无追踪**：无分析、无遥测、无外部连接
- **敏感字段保护**：自动跳过密码、文件和其他敏感输入类型
- **用户控制**：所有操作都需要明确的用户操作

## 开发

### 项目结构

```
input-recorder/
├── manifest.json          # 扩展清单文件 (MV3)
├── popup.html             # 扩展弹窗 UI
├── options.html           # 选项页面 UI
├── script/
│   ├── popup.js          # 弹窗逻辑
│   ├── options.js        # 选项页面逻辑
│   ├── injected.js       # 内容脚本（注入到网页中）
│   └── util.js           # 存储工具 (DbUtil)
├── style/
│   ├── main.css          # 弹窗样式
│   ├── options.css       # 选项页面样式
│   └── injected.css     # 内容脚本样式
├── img/                  # 扩展图标
└── _locales/             # 国际化
    ├── en/
    ├── zh/
    └── zh-CN/
```

### 相比原版本的主要改进

- ✅ 从 Manifest V2 迁移到 Manifest V3
- ✅ 移除 jQuery 依赖（使用原生 JavaScript）
- ✅ 收紧权限（使用 activeTab 替代广泛的主机权限）
- ✅ 改进存储（使用 chrome.storage.local 替代 localStorage）
- ✅ 增强字段匹配算法
- ✅ 现代化 UI/UX 改进
- ✅ 更好的错误处理和用户反馈

## 贡献

欢迎贡献！请随时提交 Pull Request。

## 许可证

[在此指定您的许可证 - 例如 MIT、GPL 等]

## 支持

如有问题、疑问或功能请求，请在 GitHub 上提交 issue。

---

**注意**：本扩展尊重您的隐私。所有数据都保留在您的设备上，不会与任何人共享。

